@using Microsoft.AspNetCore.Identity
@using WonderDevTracker.Data

@inject SignInManager<ApplicationUser> SignInManager

<MudNavMenu >
	<MudNavLink Href="Account/Manage?tab=0" 
                Match="NavLinkMatch.All"
	            Icon="@Icons.Material.Filled.AccountCircle">
				Profile
			</MudNavLink>
	<MudNavLink Href="Account/Manage?tab=1"
				Icon="@Icons.Material.Filled.Email">
				Email
			</MudNavLink>
	<MudNavLink Href="Account/Manage?tab=2"
				Icon="@Icons.Material.Filled.Lock">
				Password
			</MudNavLink>
	@*TODO: remove if not used*@
	@if (hasExternalLogins)
	{
		<MudNavLink Href="Account/Manage/ExternalLogins"
				>External logins</MudNavLink>
	}
	@*TODO: remove if not used*@
	@* <MudNavLink Href="Account/Manage/TwoFactorAuthentication"
				Icon="@Icons.Material.Filled.AddLink">
				Two-Factor Authentication
			</MudNavLink> *@
	<MudNavLink Href="Account/Manage?tab=3" 
				Icon="@Icons.Material.Filled.PersonOutline">
				Personal Data</MudNavLink>

</MudNavMenu>

@code {
	private bool hasExternalLogins;

	protected override async Task OnInitializedAsync()
	{
		hasExternalLogins = (await SignInManager.GetExternalAuthenticationSchemesAsync()).Any();
	}
}
