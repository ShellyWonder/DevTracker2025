@using Microsoft.AspNetCore.Identity
@using WonderDevTracker.Data

@inject SignInManager<ApplicationUser> SignInManager

<MudNavMenu >
	<MudNavLink Href="Account/Manage" 
                Match="NavLinkMatch.All"
	            Icon="@Icons.Material.Filled.AccountCircle">
				Profile
			</MudNavLink>
	<MudNavLink Href="Account/Manage/Email"
				Icon="@Icons.Material.Filled.Email">
				Email
			</MudNavLink>
	<MudNavLink Href="Account/Manage/ChangePassword"
				Icon="@Icons.Material.Filled.Password">Password</MudNavLink>
	@*TODO: remove if not used*@
	@if (hasExternalLogins)
	{
		<MudNavLink Href="Account/Manage/ExternalLogins"
				>External logins</MudNavLink>
	}
	<MudNavLink Href="Account/Manage/TwoFactorAuthentication"
				Icon="@Icons.Material.Filled.AddLink">
				Two-Factor Authentication
			</MudNavLink>
		<MudNavLink Href="Account/Manage/PersonalData"
				Icon="@Icons.Material.Filled.PersonOutline">
				Personal Data</MudNavLink>

</MudNavMenu>

@code {
	private bool hasExternalLogins;

	protected override async Task OnInitializedAsync()
	{
		hasExternalLogins = (await SignInManager.GetExternalAuthenticationSchemesAsync()).Any();
	}
}
