@* TicketEnumCard *@
@typeparam TEnum where TEnum : struct, System.Enum

<MudPaper Class="@($"p-3 h-100 d-flex justify-content-between align-items-center {Class}")" Elevation="@Elevation">
    <MudText Typo="Typo.h6">@Title</MudText>

    <MudChip T="string"
             Color="@ChipColor"
             Variant="@Variant"
             Class="mt-1"
             CloseIcon="@CloseIcon">
        @DisplayText
    </MudChip>
</MudPaper>

@code {
    [Parameter, EditorRequired] 
    public string Title { get; set; } = default!;
    [Parameter] 
    public TEnum? Value { get; set; }
    [Parameter] 
    public string? Class { get; set; }
    [Parameter] 
    public int Elevation { get; set; } = 5;
    [Parameter] 
    public Variant Variant { get; set; } = Variant.Filled;

    [Parameter] 
    public string CloseIcon { get; set; } = Icons.Material.Filled.ArrowDropDown;

    private string DisplayText => Value.HasValue
        ? ((Enum)(object)Value.Value).GetDisplayName()
        : "—";

    private Color ChipColor =>
             Value.HasValue ? Value.GetColor() : Color.Tertiary;
}