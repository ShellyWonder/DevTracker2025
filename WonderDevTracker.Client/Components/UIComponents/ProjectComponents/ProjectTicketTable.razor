@* ProjectTicketTable *@

<MudDataGrid Items="Tickets"
			 Elevation="0"
			 Dense="true"
			 ColumnResizeMode="ResizeMode.Container"
			 DragDropColumnReordering
			 Hideable
			 ShowMenuIcon
			 RowsPerPage="10">
	<Columns>
		<PropertyColumn Property="t => t.Title" >
			<CellTemplate>
				<TicketTitleLink Ticket="context.Item" />
			</CellTemplate>
		</PropertyColumn>
		<PropertyColumn Property="t => t.Priority">
			<CellTemplate>
				<TicketPriorityChip Priority="@context.Item.Priority"/>
			</CellTemplate>
		</PropertyColumn>
		<PropertyColumn Property="t => t.Status">
			<CellTemplate>
				<TicketStatusChip Status="@context.Item.Status" />
			</CellTemplate>
		</PropertyColumn>
		<TemplateColumn Title="Submitter"
						Sortable="true"
						SortBy="c => c.SubmitterUser?.FullName"
						ShowColumnOptions="true">
			<CellTemplate>
				<AssignedToTicket User="@context.Item.SubmitterUser"/>
			</CellTemplate>
		</TemplateColumn>
		<TemplateColumn Title="Developer"
						Sortable="true"
						SortBy="c => c.DeveloperUser?.FullName"
						ShowColumnOptions="true">
			<CellTemplate>
				<AssignedToTicket User="@context.Item.DeveloperUser" />
			</CellTemplate>
		</TemplateColumn>
		<PropertyColumn Property="t => t.Modified" Title="Updated" Format="g">
			<CellTemplate>
				<MudText Typo="Typo.caption">
					@context.Item.Modified.ToLocalTime().ToString("g")
				</MudText>
			</CellTemplate>
		</PropertyColumn>
	</Columns>
	<PagerContent>
		<MudDataGridPager />
	</PagerContent>
	<NoRecordsContent>
		<NotFoundDisplay Message="No tickets available" />
	</NoRecordsContent>
</MudDataGrid>

<SafeNavButton Href="#" Valid="true"
			   Color="Color.Tertiary"
			   Variant="Variant.Text"
			   Class="project-details-link ms-auto"
			   StartIcon="@Icons.Material.Filled.List"
			   TypeText="Add Tickets" />

@code {
	[Parameter, EditorRequired]
	public IEnumerable<TicketDTO> Tickets { get; set; } = [];



}
