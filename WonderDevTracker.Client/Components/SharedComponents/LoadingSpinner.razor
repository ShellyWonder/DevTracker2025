@*LoadingSpinner *@

@using MudBlazor

@if (IsVisible)
{
    <div class="spinner-fade-in h-100 d-flex flex-column align-items-center justify-content-center gap-2">
        <MudProgressCircular Color="@Color" Size="@Size" Indeterminate />
        @if (!string.IsNullOrWhiteSpace(Message))
        {
            <MudText Typo="Typo.button" Color="Color.Secondary">
                @Message
            </MudText>
        }
    </div>
}

@code {
    [Parameter] 
    public string Message { get; set; } = "Please Wait. Loading . . .";
    [Parameter] 
    public Color Color { get; set; } = Color.Primary;
    [Parameter] 
    public Size Size { get; set; } = Size.Medium;

    private bool IsVisible;

    protected override async Task OnInitializedAsync()
    {
        await Task.Delay(200); // Delay to avoid flicker
        IsVisible = true;
        StateHasChanged(); // Trigger re-render
    }
}

